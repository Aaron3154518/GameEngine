<div class="border border-dark border-2">
  <div class="input-group mb-2 mr-sm-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        <fa-icon [icon]="['fas', 'search']"></fa-icon>
      </div>
    </div>
    <input
      type="text"
      class="form-control"
      maxlength="20"
      placeholder="Search Variable Lists"
      autocomplete="off"
    />
    <!-- [value]="search"
      (input)="onSearchChanged($event)" -->
  </div>

  <table class="table table-sm code">
    <thead>
      <tr>
        <th
          *ngFor="let col of cols; let first = first"
          class="p-0 m-0"
          [ngClass]="[first ? 'w-auto' : 'w-100']"
        ></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of data">
        <td *ngFor="let col of cols" class="p-0">
          <app-input
            *ngIf="col.input"
            [classes]="[
              'py-0',
              'px-1',
              'mx-2',
              'rounded-1',
              'border',
              'border-top-0',
              'border-bottom-0',
              'border-secondary',
              'fw-bold'
            ]"
            placeholder="+ New"
            (enter)="col.input(row, $event)"
            [sanitize]="sanitizeVar"
          >
          </app-input>
          <ng-template
            appContainer
            #container="container"
            init
            (init)="init(container, row, col)"
          ></ng-template>
          <!-- *ngFor="let param of group.params" -->
        </td>
      </tr>

      <tr *ngIf="allowNew">
        <td class="p-0">
          <div class="input-group-text py-0 px-1 bg-white">
            <app-input
              [classes]="[
                'p-0',
                'pe-1',
                'border-0',
                'bg-transparent',
                'fw-bold'
              ]"
              placeholder="+ New List"
              (enter)="newRow.next($event)"
              [outline]="false"
            ></app-input>
          </div>
        </td>
        <td class="p-0 ps-2"></td>
      </tr>
    </tbody>
    <span class="position-absolute align-middle dummy" #listDummy></span>
  </table>
</div>
